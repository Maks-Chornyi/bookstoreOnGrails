<!DOCTYPE html>

<html lang="en">
<head>
    <title>Author`s index page</title>
    <asset:stylesheet src="style.css"/>
    <asset:stylesheet src="jquery-ui.css"/>
    <asset:stylesheet src="jquery-ui.structure.css"/>
    <asset:stylesheet src="jquery-ui.theme.css"/>
    <asset:javascript src="jquery-3.3.1.min.js"/>
    <asset:javascript src="my_jQuery.js"/>
    <asset:javascript src="jquery-ui-1.12.1.custom/jquery-ui.js"/>
    <link rel="shortcut icon" href="data:image/png;base64,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"/>
</head>

<body>
<g:form action="deleteAuthor" class="deleteAuthorForm">
    <input type="hidden" name="id" value="" id="deleteAuthorInput"/>
</g:form>
    <h1>Authors</h1>

    <div class="add-author">
        <h3>Add new Author</h3>
        <g:form controller="author" action="save">
            <label>Name: </label><g:textField name="name"/>
            <label>Birthday: </label><g:datePicker precision="day" name="birthday"/>
            <label>Address: </label><g:textField name="address"/>
            <label>Info: </label><g:textField name="authorInfo"/>
            <g:actionSubmit name="save" value="Save" />
        </g:form>
    </div>

    <table class="show-all-author">
        <thead>
            <tr>
                <th>Name</th>
                <th>Birthday</th>
                <th>Address</th>
                <th>Info</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        <g:each var="author" in="${authors}">
            <tr>
                <td>${author.name}</td>
                <td><g:formatDate format="yyyy/MM/dd" date="${author.birthday}"/></td>
                <td>${author.address}</td>
                <td>${author.authorInfo}</td>
                <td>
                    <a href="/author/show/${author.id}"><button>Edit</button></a>
                    <button onclick="openAuthorInfo(${author.id})" id="openAuthorInfo">Info</button>
                    <button onclick="deleteAuthor(${author.id})">Delete</button>
                </td>
            </tr>
        </g:each>
        </tbody>
    </table>
    <div class="authors-info">
        <p>We have <strong>${authorsAmount}</strong> author<g:if test="${authors.size() > 1}">s</g:if> in DB</p>
        <p>Most successful author is <strong>${mostSuccessfulAuthor.name}</strong>, author has <strong>${countOfBooksOfMostsuccessfulAuthor}</strong> books </p>
        <p>Unsuccessful author is <strong>${unsuccessfulAuthor.name}</strong>, author has <strong>${countOfBooksOfUnsuccessfulAuthor}</strong> books </p>
        <p id="authddorInfo"></p>
    </div>
    <div id="dialog" title="Author info" hidden="hidden">
        <p id="authorNameDialog"></p>
        <p id="authorInfoDialog"></p>
        <p id="addressDialog"></p>
        <p id="birthdayDialog"></p>
        <p id="countOfBooksDialog"></p>
    </div>

</body>

</html>